
<!------------------------------------------------------------------------------>
<div class="flex flex-col w-full h-full">
  <p-button label="Crear ingrediente" size="small" severity="secondary" (click)="isIngredientDialogVisible.set(true)"></p-button>

  <div class="flex-1 flex flex-col min-h-0">
      <p-tabs value="0" scrollable class="flex flex-col flex-1 min-h-0">
        <p-tablist class="shrink-0">
            @for (tab of tabs; track tab.value) {
              <p-tab [value]="tab.value" class="flex items-center gap-1">
                @if (tab.label === 'P') {
                  <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-meat"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M13.62 8.382l1.966 -1.967a2 2 0 1 1 3.414 -1.415a2 2 0 1 1 -1.413 3.414l-1.82 1.821" /><path d="M5.904 18.596c2.733 2.734 5.9 4 7.07 2.829c1.172 -1.172 -.094 -4.338 -2.828 -7.071c-2.733 -2.734 -5.9 -4 -7.07 -2.829c-1.172 1.172 .094 4.338 2.828 7.071z" /><path d="M7.5 16l1 1" /><path d="M12.975 21.425c3.905 -3.906 4.855 -9.288 2.121 -12.021c-2.733 -2.734 -8.115 -1.784 -12.02 2.121" /></svg>
                } @else if (tab.label === 'HC') {
                  <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-bread"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 4a3 3 0 0 1 2 5.235v8.765a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-8.764a3 3 0 0 1 1.824 -5.231h12.176v-.005z" /></svg>
                } @else if (tab.label === 'G') {
                  <svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-cheese"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4.519 20.008l16.481 -.008v-3.5a2 2 0 1 1 0 -4v-3.5h-16.722" /><path d="M21 9l-9.385 -4.992c-2.512 .12 -4.758 1.42 -6.327 3.425c-1.423 1.82 -2.288 4.221 -2.288 6.854c0 2.117 .56 4.085 1.519 5.721" /><path d="M15 13v.01" /><path d="M8 13v.01" /><path d="M11 16v.01" /></svg>
                } 
                <span>{{ tab.label }}</span>
              </p-tab>
            }
        </p-tablist>
        <p-tabpanels class="flex-1 min-h-0 overflow-y-auto">
            @for (tab of tabs; track tab.value) {
              <p-tabpanel [value]="tab.value">
                  <div class="flex flex-col gap-2">
                      @for (ingredient of tab.content; track ingredient.id) {
                          <p class="border !p-2 rounded-sm cursor-pointer hover:bg-slate-100" (click)="editIngredient(ingredient)">{{ ingredient.name }}</p>
                      }
                  </div>
              </p-tabpanel>
            }
        </p-tabpanels>
    </p-tabs>
  </div>
</div>

<!------------------------------------------------------------------------------>
<!-- DIALOG -->
 @if(isIngredientDialogVisible()) {
   <app-ingredient-form-dialog [(visible)]="isIngredientDialogVisible" [ingredient]="ingredientToEdit()" />
 }
