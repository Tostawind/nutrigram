<h2 class="title--1">Configuración</h2>

@if(settingsStatus() === 'ok') {
  @if (settings(); as settings) {
    <app-macros-table
      [macros]="[settings.macros]"
      [editableFields]="['kcal', 'protein', 'carbs', 'fat']"
      (save)="updateSettings($event)"
    />
  }
} @else if(settingsStatus() === 'loading') {
  <p>Cargando configuración...</p>
} @else {
  <p>Error al cargar configuración</p>
  <button (click)="loadSettings()">volver a cargar</button>
}

@if(mealsStatus() === 'ok') {
  @for(meal of meals(); track meal.id) {
    <hr style="opacity: 0.2; margin-top: 32px" />
    <h3 class="title--2">{{ meal.name }}</h3>
    <app-macros-table
      [macros]="[meal.macros]"
      [editableFields]="['protein', 'carbs', 'fat']"
      (save)="updateMeal($event, meal.id)"
    />
  }
} @else if(mealsStatus() === 'loading') {
  <p>Cargando comidas...</p>
} @else {
  <p>Error al cargar comidas</p>
}

