<p-dialog [header]="ingredient()?.id ? 'Editar Ingrediente' : 'Crear Ingrediente'" [modal]="true" [(visible)]="visible" [style]="{ height: '100%', width: '95%', maxWidth: '1200px' }">

  <div class="form-section">
    <h3 class="title--3">Nombre</h3>
    <input pInputText id="name" [(ngModel)]="name" autocomplete="off" />
  </div>

  <div class="form-section">
    <h3 class="title--3">Categor√≠a</h3>

    <div class="flex justify-between gap-2">
      @for (category of categories; track category.id) {
        <div class="flex items-center gap-2">
          <p-radiobutton name="category" [value]="category" [(ngModel)]="selectedCategory" [inputId]="category.id" />
          <label [for]="category.id">{{ category.name }}</label>
        </div>
      } 
    </div>
  </div>

  <div class="form-section">
    <h3 class="title--3">Macros</h3>
    <div class="form-section">
      <h4 class="title--4">Kcal</h4>
      <p-inputnumber
        id="kcal"
        [(ngModel)]="macros.kcal"
        [min]="0"
        [max]="10000"
        [step]="1"
        autocomplete="off"
      />
    </div>
    <div class="form-section">
      <h4 class="title--4">Proteina</h4>
      <p-inputnumber
        id="protein"
        [(ngModel)]="macros.protein"
        [min]="0"
        [max]="10000"
        mode="decimal" 
        [minFractionDigits]="0"
        [maxFractionDigits]="2"
        autocomplete="off"
      />
    </div>
    <div class="form-section">
      <h4 class="title--4">Hidratos</h4>
      <p-inputnumber
        id="carbs"
        [(ngModel)]="macros.carbs"
        [min]="0"
        [max]="10000"
        mode="decimal" 
        [minFractionDigits]="0"
        [maxFractionDigits]="2"
        autocomplete="off"
      />
    </div>
    <div class="form-section">
      <h4 class="title--4">Grasas</h4>
      <p-inputnumber
        id="fat"
        [(ngModel)]="macros.fat"
        [min]="0"
        [max]="10000"
        mode="decimal" 
        [minFractionDigits]="0"
        [maxFractionDigits]="2"
        autocomplete="off"
      />
    </div>
  </div>

  <div class="form-section">
    <h3 class="title--3">Notas</h3>
    <input pInputText id="notes" [(ngModel)]="notes" autocomplete="off" />
  </div>

  @if(ingredient()?.id) {
    <p-button
        variant="outlined"
        [rounded]="true"
        severity="danger"
        size="small"
        (onClick)="deleteIngredient()"
      >
      <svg  xmlns="http://www.w3.org/2000/svg"  width="18"  height="18"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-trash"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 7l16 0" /><path d="M10 11l0 6" /><path d="M14 11l0 6" /><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" /><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" /></svg>
      Eliminar
    </p-button>
  }

  <div class="flex justify-end gap-6">
      <p-button label="Cancelar" severity="secondary" (click)="visible.set(false)" />
      <p-button label="Guardar" (click)="save()" />
  </div>
</p-dialog>